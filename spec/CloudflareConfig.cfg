CONSTANTS
    Node = {n1, n2, n3, n4}
    ConfigVersion = {v1, v2, v3}
    InitConfig = v1
    MaxRollouts = 5

SPECIFICATION Spec

\* Check type correctness
INVARIANT TypeOK

\* Critical safety properties
INVARIANT ControlPlaneNotBlocked
INVARIANT RolloutBounded

\* These invariants SHOULD be violated to demonstrate the Cloudflare failure modes
\* Uncomment them one at a time to see the counterexamples
\* INVARIANT TrafficAlwaysAvailable
\* INVARIANT RollbackAvailableWhenBlocked

\* Temporal properties
\* PROPERTY EventuallyStable
